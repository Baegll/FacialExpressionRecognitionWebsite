<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>DeepEmo - Face Expression Recognition</title>
    <meta name="description" content="A facial expression recognition WebApp">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="css/ui_core.css">
    <link rel="stylesheet" href="css/styles.css">

    <!-- Material Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  </head>
  <body>
  <div id="start"></div>
    <!-- Navbar -->
    <nav class="navbar dark">
      <div class="nav-wrapper">
        <a href="/" class="brand-logo"><img class="logo" src="img/logo.png" alt=""></i></a>
        <ul id="nav-mobile" class="right hide-on-med-and-down">
          <li><a href="/manual">Manual</a></li>
          <li><a href="/privacy">Privacy</a></li>
          <li><a href="/about">About</a></li>
        </ul>
      </div>
    </nav>

    <!-- Page 1 -->
    <div class="circle-reveal-intro full-height">
      <div class="fixed-wrapper">
      <div class="circle-reveal-wrapper header light" style="pointer-events:none">
          <div class="circle-background white"></div>
          <div class="header-wrapper row valign-wrapper">
            <div class="col s12 m8 offset-m2">
              <h2>What's your girlfriend's emotion?</h2>
              <span class="tagline"><b>DeepEmO - A Facial Expression Recognition Webapp Powered by face-api.js</b><br>Slide to start</span>
              <!-- Loader -->
              <div class="progress" id="loader">
                <div class="indeterminate"></div>
              </div>
              <button class="nextp" style="pointer-events:auto"><i class="icon-caret-down"></i></button>
            </div>
        </div>
      </div>



    <!-- Page 2 -->
        <div class="circle-reveal-wrapper header">
          <div class="circle-background pink"></div>
          <div class="header-wrapper row valign-wrapper" style="pointer-events:none">
            <div class="col s12 m8 offset-m2">
              <!-- Create a window for displaying result -->
              <div style="position: relative;pointer-events:none" class="margin">
                <img id="inputImg" src="" style="max-width: 100%;pointer-events:none" />
                <canvas id="overlay" />
              </div>
              <!-- Create a window for displaying image -->
              <div class="row side-by-side">
                <!-- interface for image detection -->
                <input id="queryImgUploadInput" type="file" class="waves-effect btn bold" onchange="AnaImage()" accept=".jpg, .jpeg, .png">
              </div>
              <span class="tagline">Next.</span>
              <button class="nextp" style="pointer-events:auto"><i class="icon-caret-down"></i></button>
            </div>
          </div>
        </div>
      </div>


    <!-- Page 3 -->
      <div class="section background-layer valign-wrapper">
        <div class="container">

          <h2>Realtime Face Expression Recognition</h2>
          <div class="row masonry-grid">
            <div class="col s12 m6 l4">
              <div class="card">
                <div class="card-image" style="pointer-events:auto;z-index: 990">
                  <a href="/realtime_face_expression_recognition-mobile" style="pointer-events:auto"><img src="https://dummyimage.com/600x400/6d88f2/6d88f2">
                  <span class="card-title" style="pointer-events:auto;z-index: 990">Lauch with<br><b>Performance Profile</b><br>for Mobile or Raspberry pi<br> - Best Fps </span></a>
                </div>
              </div>
            </div>

            <div class="col s12 m6 l4">
              <div class="card">
                <div class="card-image" style="pointer-events:auto;z-index: 990">
                  <a href="/realtime_face_expression_recognition-pc" style="pointer-events:auto"><img src="https://dummyimage.com/600x400/6d88f2/6d88f2">
                  <span class="card-title" style="pointer-events:auto;z-index: 990">Lauch with<br><b>Balance Profile</b><br>for Mac / PC<br> - Balanced Fps & Acc</span></a>
                </div>
              </div>
            </div>
            <div class="col s12 m6 l4">
              <div class="card">
                <div class="card-image" style="pointer-events:auto;z-index: 990">
                  <a href="/realtime_face_expression_recognition-hpc"><img src="https://dummyimage.com/600x400/6d88f2/6d88f2">
                  <span class="card-title" style="pointer-events:auto;z-index: 990">Lauch with<br><b>Greek Profile</b><br>for High-end Devices <br>- Best Accuracy </span></a>
                </div>
              </div>
            </div>
          </div>

          <h2>Age and Gender Recognition</h2>
          <div class="row masonry-grid">
            <div class="col s12 m6 l4">
              <div class="card">
                <div class="card-image" style="pointer-events:auto;z-index: 990">
                  <a href="/age_and_gender_recognition" style="pointer-events:auto"><img src="https://dummyimage.com/600x400/6d88f2/6d88f2">
                    <span class="card-title" style="pointer-events:auto;z-index: 990">Lauch<br><b>Age and Gender Recognition</b><br>- AgeGenderNet</span></a>
                </div>
              </div>
            </div>
          </div>


        </div>
      </div>


      <!-- Footer -->
      <footer class="page-footer">
        <div class="container">
          <div class="row">
            <div class="col s6 m3">
              <img class="materialize-logo" src="img/materialize-teal.png" alt="">
              <p>Made with Materialize<br> & face-api.js</p>
            </div>
            <div class="col s6 m3">
              <h5>Project Page</h5>
              <ul>
                <li><a href="https://github.com/Baegll/FacialExpressionRecognitionWebsite">Github</a></li>
              </ul>
              <ul>
                <li><a href="https://choosealicense.com/licenses/mit/">License</a></li>
              </ul>
            </div>
            <div class="col s6 m3">
              <h5>Sitemap</h5>
              <ul>
                <li><a href="/manual">manual</a></li>
                <li><a href="/privacy">privacy</a></li>
                <li><a href="/about">about</a></li>
                <li><a href="/sitemap.xml">sitemap.xml</a></li>
              </ul>
            </div>
            <div class="col s6 m3">
              <h5>Contact</h5>
              <ul>
                <li><a href="mailto:w@wangshengze.com">w@wangshengze.com</a></li>
              </ul>
            </div>
          </div>
        </div>
      </footer>

    <!-- Floating Action Button -->
    <div class="fixed-action-btn">
      <a class="btn-floating btn-large red" href="#start" style="position:fixed;right:0;bottom:0">
        <i class="large material-icons">arrow_upward</i>
      </a>
    </div>
    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.8/ScrollMagic.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.8/plugins/animation.gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/justadudewhohacks/face-api.js@master/dist/face-api.min.js"></script>


    <!-- Initialization script -->
    <script src="js/ui_core.js"></script>
    <script src="js/detecter.js"></script>
    <script>
      // Main
      async function run() {
        // Read the arguments for loading detectors
        await loadDetector()
        // load the weights of 68 face landmark model from CDN
        await faceapi.loadFaceLandmarkModel('https://cdn.jsdelivr.net/gh/justadudewhohacks/face-api.js@master/weights/')
        // load the weights of Tiny_detector from CDN
        await faceapi.loadFaceExpressionModel('https://cdn.jsdelivr.net/gh/justadudewhohacks/face-api.js@master/weights/')
        // Start with the sample image
        const img = await faceapi.fetchImage('/img/sample1.jpg')
        // Get the input
        $(`#inputImg`).get(0).src = img.src
        // Output the result
        await updateResults()
      }
      // Start
      $(document).ready(function() {
        run()
      })
    </script>
  </body>
</html>