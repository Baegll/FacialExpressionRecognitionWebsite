<!DOCTYPE html>
<html>
<!-- Load essential CSS & JS from CDN -->
<head>
    <script src="https://cdn.jsdelivr.net/gh/justadudewhohacks/face-api.js@master/dist/face-api.min.js"></script>
    <script src="js/detecter.js"></script>
<link rel="stylesheet" href="css/styles.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.99.0/css/materialize.min.css">
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.99.0/js/materialize.min.js"></script>
</head>
<!-- Main Body -->
<body>
<div class="center-content page-container">

 <div class="progress" id="loader">
   <div class="indeterminate"></div>
 </div>
 <div style="position: relative" class="margin">
   <video onloadedmetadata="real_time_d(this)" id="inputVideo" autoplay muted playsinline></video>
   <canvas id="overlay" />
 </div>

    <!-- Statistics Data Area-->
 <div class="row side-by-side">
      <div id="fps_meter" class="row side-by-side">
        <div>
          <label for="delay">Response time:</label>
          <input disabled value="-" id="delay" type="text" class="bold">
          <label for="fr">Frame Rate:</label>
          <input disabled value="-" id="fr" type="text" class="bold">
        </div>
      </div>
    </div>
</div>
</body>

<!-- Additional scripts for detector control -->
<script>
    // Main
    async function run() {
        // Read the arguments for loading detectors
      await loadDetector()
        // load the weights of Tiny_detector from CDN
        await faceapi.loadFaceExpressionModel('https://cdn.jsdelivr.net/gh/justadudewhohacks/face-api.js@master/weights/')
        // Access the webcam
      const webcam = await navigator.mediaDevices.getUserMedia({ video: {} })
        // Update the Input
        $('#inputVideo').get(0).srcObject = webcam
    }
// Start
    $(document).ready(function() {
      run()
    })
</script>
</html>